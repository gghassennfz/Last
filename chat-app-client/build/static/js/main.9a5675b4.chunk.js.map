{"version":3,"sources":["utils/history.js","config/index.js","config/dev.js","reducers/commonReducer.js","actions/types.js","reducers/index.js","utils/Routes.js","components/logo.png","components/AuthComponent/AuthComponent.jsx","utils/axios.js","utils/emojis.js","actions/helper.js","actions/index.js","components/spinner.svg","components/AuthComponent/Signup.jsx","components/AuthComponent/Login.jsx","components/AuthComponent/Forgotpassword.jsx","components/AuthComponent/Resetpassword.jsx","components/AuthComponent/EmailConfirmation.jsx","components/AuthComponent/ActivateAccount.jsx","components/avatar.svg","components/ProfileBar/index.jsx","components/Conversations/ConversationCard.jsx","components/Conversations/Message.jsx","index.js","components/send.svg","components/Conversations/index.jsx","components/Homepage/illustration.svg","components/Homepage/Homepage.jsx","components/Profile/index.jsx","components/ChangePassword/index.jsx","components/App.js"],"names":["module","exports","require","createHashHistory","process","REACT_APP_CHAT_APP","PUSHER_KEY","REACT_APP_PUSHER_KEY","PUSHER_CLUSTER","REACT_APP_PUSHER_CLUSTER","commonReducer","actionType","initialState","state","action","type","payload","NEW_USER_DATA","AUTH_USER","LOGIN_USER_DATA","FORGOT_PASSWORD","RESET_PASSWORD_DATA","CONVERSATIONS","USERS","ACTIVE_CONVERSATION","MESSAGE_DATA","PROFILE_DATA","CHANGE_PASSWORD","APP_DATA_LOADING","newUserDataState","combineReducers","newUserData","loginUserData","auth","forgotPassword","resetPasswordData","conversations","data","notifications","users","activeConversation","message","profileData","username","email","changePassword","currentPassword","newPassword","confirmPassword","appDataLoading","login","signup","forgotpassword","emailConfirmation","updateProfile","AuthComponent","token","localStorage","getItem","exp","Date","now","history","push","className","src","logo","alt","this","props","children","React","Component","axios","create","baseURL","EMOJI","saveToken","setItem","loadDataHelper","dispatch","cons","user","me","a","get","headers","authorization","count","forEach","con","lastMsg","messages","length","_id","console","log","path","window","location","href","split","setNewUserData","newUser","password","resendAccountActivateEmail","getState","post","logout","Signup","onSubmit","event","preventDefault","signupUser","onSignupFieldChange","field","target","value","failedMessage","failed","startsWith","Alert","show","variant","placeholder","onChange","required","autoFocus","spinner","to","connect","joinedAt","loginUser","onInputFieldChange","setLoginData","loginFailed","mount","ForgotPassword","sendForgotPassword","setForgotPassword","Resetpassword","setResetPassword","resetPassword","match","params","validation","invalidToken","withRouter","patch","useEffect","onClick","ActivateAccount","activateAccount","index","isOptionsActive","setOptionsActive","setState","userAvatar","image","avatar","bufferToBase64","buffer","binary","bytes","Uint8Array","len","byteLength","i","String","fromCharCode","btoa","defaultAvatar","ConversationCard","onSetActiveConver","conversation","setActiveConversation","createConversation","id","cardClass","user1","userID","user2","currentUserMsg","lastMsgUser","setMessageContainerClass","createdAt","Message","store","title","msg","Conversations","activeTab","messageContainerClass","isEmojiActive","isMsgFormActive","messageContainer","createRef","isActive","setActiveTab","tab","isTabActive","renderUsers","map","isOnline","isUserActive","getUser","otherID","getUserWithId","renderConversations","renderMessages","toGMTString","toDateString","toLocaleTimeString","renderEmojis","EMOJIS","emoji","addEmoji","onMessageSubmit","trim","sendMessage","pusher","Pusher","keys","cluster","userChannel","subscribe","conversationChannel","messageChannel","bind","userInserted","userUpdated","userDeleted","conversationInserted","conversationDeleted","messageInserted","onbeforeunload","unsubscribe","current","scroll","scrollHeight","scrollTop","ProfileBar","ref","setMessageData","onFocus","onBlur","style","display","sendMessageIcon","findIndex","sUser","newUsers","updates","updatedUser","updatedFields","slice","filter","doc","el","newConversations","Homepage","illustration","rel","deleteAccountModal","deleteAccountLoading","profileAvatar","setDeleteAccountModal","onFieldChange","setProfileData","reader","FileReader","readAsDataURL","files","onload","result","saveProfileData","deleteMe","deleteAccount","accept","document","querySelector","formData","FormData","append","setTimeout","reload","delete","setChangePasswordData","saveNewPassword","App","loadData","exact","component","Login","Forgotpassword","EmailConfirmation","Profile","ChangePassword","composeEnhanchers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","reducers","applyMiddleware","reduxThunk","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.9a5675b4.chunk.js","sourcesContent":["// const createHistory = require(\"history\")\r\n\r\nmodule.exports = require(\"history\").createHashHistory();\r\n","if (process.env.REACT_APP_CHAT_APP === \"development\") {\r\n  module.exports = require(\"./dev\");\r\n} else {\r\n  module.exports = {\r\n    PUSHER_KEY: process.env.REACT_APP_PUSHER_KEY,\r\n    PUSHER_CLUSTER: process.env.REACT_APP_PUSHER_CLUSTER,\r\n  };\r\n}\r\n","module.exports = {\n  PUSHER_KEY: \"6726969793ca6c72a042\",\n  PUSHER_CLUSTER: \"eu\",\n};\n","const commonReducer = (actionType, initialState) => (\r\n  state = initialState,\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n    case actionType:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default commonReducer;\r\n","export const SIGNUP_USER = \"SIGNUP_USER\";\r\nexport const NEW_USER_DATA = \"NEW_USER_DATA\";\r\nexport const AUTH_USER = \"AUTH_USER\";\r\nexport const LOGIN_USER_DATA = \"LOGIN_USER_DATA\";\r\nexport const FORGOT_PASSWORD = \"FORGOT_PASSWORD\";\r\nexport const RESET_PASSWORD_DATA = \"RESET_PASSWORD_DATA\";\r\nexport const CONVERSATIONS = \"CONVERSATIONS\";\r\nexport const USERS = \"USERS\";\r\nexport const ACTIVE_CONVERSATION = \"ACTIVE_CONVERSATION\";\r\nexport const MESSAGE_DATA = \"MESSAGE_DATA\";\r\nexport const PROFILE_DATA = \"PROFILE_DATA\";\r\nexport const CHANGE_PASSWORD = \"CHANGE_PASSWORD\";\r\nexport const APP_DATA_LOADING = \"APP_DATA_LOADING\";\r\n\r\nexport const newUserDataState = {\r\n  emptyFields: \"empty fields\",\r\n  typing: \"typing\",\r\n  submitting: \"submitting\",\r\n  submitted: \"submitted\",\r\n  resubmitting: \"resubmitting\",\r\n  activatingAccount: \"activatingAccount\",\r\n  accountActivated: \"accountActivated\",\r\n  emailNotExist:\r\n    \"failed,Something went wrong! Maybe user with this email doesn't exist or is invalid\",\r\n  invalidToken: \"Invalid Token\",\r\n  failed:\r\n    \"failed,Something went wrong! Maybe user with this email already exists or is invalid\",\r\n  lengthValidation: \"validation,Password length should be greater than 12\",\r\n  unmatchedValidation: \"validation,Password and Confirm password are not same\",\r\n};\r\n","import { combineReducers } from \"redux\";\r\nimport commonReducer from \"./commonReducer\";\r\nimport {\r\n  FORGOT_PASSWORD,\r\n  NEW_USER_DATA,\r\n  AUTH_USER,\r\n  LOGIN_USER_DATA,\r\n  RESET_PASSWORD_DATA,\r\n  CONVERSATIONS,\r\n  USERS,\r\n  ACTIVE_CONVERSATION,\r\n  MESSAGE_DATA,\r\n  PROFILE_DATA,\r\n  CHANGE_PASSWORD,\r\n  APP_DATA_LOADING,\r\n} from \"../actions/types\";\r\n\r\nexport default combineReducers({\r\n  newUserData: commonReducer(NEW_USER_DATA, null),\r\n  loginUserData: commonReducer(LOGIN_USER_DATA, null),\r\n  auth: commonReducer(AUTH_USER, {}),\r\n  forgotPassword: commonReducer(FORGOT_PASSWORD, null),\r\n  resetPasswordData: commonReducer(RESET_PASSWORD_DATA, null),\r\n  conversations: commonReducer(CONVERSATIONS, { data: [], notifications: 0 }),\r\n  users: commonReducer(USERS, []),\r\n  activeConversation: commonReducer(ACTIVE_CONVERSATION, null),\r\n  message: commonReducer(MESSAGE_DATA, { message: \"\", state: \"\" }),\r\n  profileData: commonReducer(PROFILE_DATA, {\r\n    username: \"\",\r\n    email: \"\",\r\n  }),\r\n  changePassword: commonReducer(CHANGE_PASSWORD, {\r\n    currentPassword: \"\",\r\n    newPassword: \"\",\r\n    confirmPassword: \"\",\r\n  }),\r\n  appDataLoading: commonReducer(APP_DATA_LOADING, \"\"),\r\n});\r\n","export const root = \"/\";\r\nexport const login = \"/users/login\";\r\nexport const signup = \"/users/signup\";\r\nexport const activateAccount = \"/users/activateAccount/:token\";\r\nexport const forgotpassword = \"/users/forgotpassword\";\r\nexport const resetpassword = \"/users/resetpassword/:token\";\r\nexport const emailConfirmation = \"/users/emailConfirmation\";\r\nexport const conversations = \"/conversations\";\r\nexport const updateProfile = \"/users/profile/me\";\r\nexport const changePassword = \"/users/profile/me/changePassword\";\r\n","export default \"data:image/png;base64,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\"","import React from \"react\";\r\n\r\nimport history from \"../../utils/history\";\r\nimport { conversations } from \"../../utils/Routes\";\r\nimport logo from \"../logo.png\";\r\nimport \"./AuthComponent.scss\";\r\n\r\nclass AuthComponent extends React.Component {\r\n  componentDidMount() {\r\n    const token = localStorage.getItem(\"token\");\r\n    const exp = localStorage.getItem(\"exp\");\r\n\r\n    if (token && +exp >= Date.now()) {\r\n      return history.push(conversations);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"auth-component\">\r\n        <div className=\"app-logo-aside\">\r\n          <img src={logo} alt=\"chat app logo\" />\r\n        </div>\r\n        <div className=\"form-wrapper\">{this.props.children}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AuthComponent;\r\n","import axios from \"axios\";\r\n\r\nexport default axios.create({\r\n  baseURL: \"https://raman-chatapp.herokuapp.com\",\r\n});\r\n","const EMOJI = `😀😁😂🤣😃😄😅😆😉😊😋😎😍😘😗😙😚🙂🤗🤩🤔🤨😐😑😶🙄😏😣😥😮🤐😪😫😴😌😛😜😝🤤😒😓😔😕🙃🤑😲🙁😖😞😟😤😢😭😦😧😨😩🤯😬😰😱😳🤪😵😡😠🤬😷🤒🤕🤢🤮🤧😇🤠🤡🤥🤫🤭🧐🤓😈👿👹👺💀👻👽👾🤖💩😺😸😹😻😼😽🙀😿😾🙈🙉🙊👶🧒👦👧🧑👨👩🧓👴👵👨‍⚕️👩‍⚕️👨‍🎓👩‍🎓👨‍🏫👩‍🏫👨‍⚖️👩‍⚖️👨‍🌾👩‍🌾👨‍🍳👩‍🍳👨‍🔧👩‍🔧👨‍🏭👩‍🏭👨‍💼👩‍💼👨‍👩‍🔬👨‍💻👩‍💻👨‍🎤👩‍🎤👨‍🎨👩‍🎨👨‍✈️👩‍✈️👨‍🚀👩‍🚀👨‍🚒👩‍🚒👮👮‍♂️👮‍♀️🕵️🕵️‍♂️🕵️‍♀️💂💂‍♂️💂‍♀️👷👷‍♂️👷‍♀️🤴👸👳👳‍♂️👳‍♀️👲🧕🧔👱👱‍♂️👱‍♀️🤵👰🤰🤱👼🎅🤶🧙🧙‍♀️🧙‍♂️🧚🧚‍♀️🧚‍♂️🧛🧛‍♀️🧛‍♂️🧜🧜‍♀️🧜‍♂️🧝🧝‍♀️🧝‍♂️🧞🧞‍♀️🧞‍♂️🧟🧟‍♀️🧟‍♂️🙍🙍‍♂️🙍‍♀️🙎🙎‍♂️🙎‍♀️🙅🙅‍♂️🙅‍♀️🙆🙆‍♂️🙆‍♀️💁💁‍♂️💁‍♀️🙋🙋‍♂️🙋‍♀🙇🙇‍♂️🙇‍♀️🤦🤦‍♂️🤦‍♀️🤷🤷‍♂️🤷‍♀️💆💆‍♂️💆‍♀️💇💇‍♂️💇‍♀️🚶🚶‍♂️🚶‍♀️🏃🏃‍♂️🏃‍♀️💃🕺👯👯‍♂️👯‍♀️🧖🧖‍♀️🧖‍♂️🧗🧗‍♀️🧗‍♂️🧘🧘‍♀️🧘‍♂️🛀🛌🕴️🗣️👤👥🤺🏇⛷️🏂🏌️🏌️‍♂️🏌️‍♀️🏄🏄‍♂️🏄‍♀️🚣🚣‍♂️🚣‍♀️🏊🏊‍♂️🏊‍♀️⛹️⛹️‍⛹️‍♀️🏋️🏋️‍♂️🏋️‍♀️🚴🚴‍♂️🚴‍♀️🚵🚵‍♂️🚵‍♀️🏎️🏍️🤸🤸‍♂️🤸‍♀️🤼🤼‍♂️🤼‍♀️🤽🤽‍♂️🤽‍♀️🤾🤾‍♂️🤾‍♀️🤹🤹‍♂️🤹👫👬👭💏👩‍❤️‍💋‍👨👨‍❤️‍💋‍👨👩‍❤️‍💋‍👩💑👩‍❤️‍👨👨‍❤️‍👨👩‍❤️‍👩👪👨‍👩‍👦👨‍👩‍👧👨‍👩‍👧‍👦👨‍👩‍👦‍👦👨‍👩‍👧‍👧👨‍👨‍👦👨‍👨‍👧👨‍👨‍👧‍👦👨‍👨‍👦‍👦👨‍👨‍👧‍👧👩‍👩‍👦👩‍👩‍👧👩‍👩‍👧‍👦👩‍👩‍👦‍👦👩‍👩‍👧‍👧👨‍👦👨‍👦‍👦👨‍👧👨‍👧‍👦👨‍👧‍👧👩‍👦👩‍👦‍👦👩‍👧👩‍👧‍👦👩‍👧‍👧🤳💪👈👉👆👇🤞🖖🤘🤙🖐️✋👌👍👎✊👊🤛🤜🤚👋🤟👏👐🙌🤲🙏🤝💅👂👃👣👀👁️👁️‍🗨️🧠👅👄💋💘❤️💓💔💕💖💗💙💚💛🧡💜🖤💝💞💟❣️💌💤💢💣💥💦💨💫💬🗨️🗯️💭🕳️👓🕶️👔👕👖🧣🧤🧥🧦👗👘👙👚👛👜👝🛍️🎒👞👟👠👡👢👑👒🎩🎓🧢⛑️📿💄💍💎`;\r\n\r\nexport default EMOJI;\r\n","import axios from \"../utils/axios\";\r\nimport {\r\n  AUTH_USER,\r\n  USERS,\r\n  CONVERSATIONS,\r\n  APP_DATA_LOADING,\r\n  PROFILE_DATA,\r\n} from \"./types\";\r\nimport history from \"../utils/history\";\r\nimport {\r\n  login,\r\n  changePassword,\r\n  conversations,\r\n  updateProfile,\r\n} from \"../utils/Routes\";\r\n\r\nexport const saveToken = (token) => {\r\n  localStorage.setItem(\"token\", token);\r\n  localStorage.setItem(\"exp\", Date.now() + 30 * 24 * 60 * 60 * 1000);\r\n};\r\n\r\nexport const loadDataHelper = async (\r\n  dispatch,\r\n  token,\r\n  cons,\r\n  users,\r\n  user,\r\n  me\r\n) => {\r\n  dispatch({\r\n    type: APP_DATA_LOADING,\r\n    payload: \"loading\",\r\n  });\r\n\r\n  try {\r\n    if (me) {\r\n      const me = await axios.get(\"/api/v1/users/me\", {\r\n        headers: {\r\n          authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n\r\n      dispatch({\r\n        type: AUTH_USER,\r\n        payload: {\r\n          user: me.data.user,\r\n        },\r\n      });\r\n\r\n      user = me.data.user;\r\n    }\r\n\r\n    dispatch({\r\n      type: PROFILE_DATA,\r\n      payload: {\r\n        username: user.username,\r\n        email: user.email,\r\n      },\r\n    });\r\n\r\n    if (users) {\r\n      const users = await axios.get(\"/api/v1/users\", {\r\n        headers: {\r\n          authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n\r\n      dispatch({\r\n        type: USERS,\r\n        payload: [...users.data.users],\r\n      });\r\n    }\r\n\r\n    if (cons) {\r\n      const conversations = await axios.get(\"/api/v1/conversations\", {\r\n        headers: {\r\n          authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n\r\n      let count = 0;\r\n      conversations.data.conversations.forEach((con) => {\r\n        const lastMsg = con.messages[con.messages.length - 1];\r\n\r\n        if (!lastMsg || lastMsg.user !== user._id) {\r\n          count++;\r\n        }\r\n      });\r\n\r\n      dispatch({\r\n        type: CONVERSATIONS,\r\n        payload: {\r\n          data: conversations.data.conversations,\r\n          notifications: count,\r\n        },\r\n      });\r\n    }\r\n\r\n    dispatch({\r\n      type: APP_DATA_LOADING,\r\n      payload: \"loaded\",\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: APP_DATA_LOADING,\r\n      payload: \"failed\",\r\n    });\r\n    console.log(err);\r\n\r\n    const path = window.location.href.split(\"#\")[1];\r\n    switch (path) {\r\n      case conversations:\r\n      case updateProfile:\r\n      case changePassword:\r\n        history.push(login);\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n  }\r\n};\r\n","import {\r\n  NEW_USER_DATA,\r\n  newUserDataState,\r\n  AUTH_USER,\r\n  LOGIN_USER_DATA,\r\n  FORGOT_PASSWORD,\r\n  RESET_PASSWORD_DATA,\r\n  CONVERSATIONS,\r\n  USERS,\r\n  ACTIVE_CONVERSATION,\r\n  MESSAGE_DATA,\r\n  PROFILE_DATA,\r\n  CHANGE_PASSWORD,\r\n} from \"./types\";\r\nimport axios from \"../utils/axios\";\r\nimport history from \"../utils/history\";\r\nimport { emailConfirmation, root } from \"../utils/Routes\";\r\nimport EMOJIS from \"../utils/emojis\";\r\nimport { saveToken, loadDataHelper } from \"./helper\";\r\n\r\nexport const setNewUserData = (\r\n  newUser,\r\n  username,\r\n  email,\r\n  password,\r\n  confirmPassword,\r\n  state\r\n) => {\r\n  if (newUser) {\r\n    return {\r\n      type: NEW_USER_DATA,\r\n      payload: {\r\n        username,\r\n        email,\r\n        password,\r\n        confirmPassword,\r\n        state,\r\n      },\r\n    };\r\n  } else {\r\n    return {\r\n      type: NEW_USER_DATA,\r\n      payload: null,\r\n    };\r\n  }\r\n};\r\n\r\nexport const signupUser = () => async (dispatch, getState) => {\r\n  const { newUserData } = getState();\r\n  newUserData.joinedAt = Date.now();\r\n\r\n  try {\r\n    await axios.post(\"/api/v1/users/signup\", newUserData);\r\n    dispatch({\r\n      type: NEW_USER_DATA,\r\n      payload: {\r\n        ...newUserData,\r\n        state: newUserDataState.submitted,\r\n      },\r\n    });\r\n    history.push(emailConfirmation);\r\n  } catch (err) {\r\n    dispatch({\r\n      type: NEW_USER_DATA,\r\n      payload: {\r\n        ...newUserData,\r\n        state: newUserDataState.failed,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\nexport const resendAccountActivateEmail = () => async (dispatch, getState) => {\r\n  const { newUserData } = getState();\r\n\r\n  dispatch({\r\n    type: NEW_USER_DATA,\r\n    payload: {\r\n      ...newUserData,\r\n      state: newUserDataState.resubmitting,\r\n    },\r\n  });\r\n\r\n  try {\r\n    await axios.post(\"/api/v1/users/resendActivationLink\", {\r\n      email: newUserData.email,\r\n    });\r\n    dispatch({\r\n      type: NEW_USER_DATA,\r\n      payload: {\r\n        ...newUserData,\r\n        state: newUserDataState.submitted,\r\n      },\r\n    });\r\n    history.push(emailConfirmation);\r\n  } catch (err) {\r\n    dispatch({\r\n      type: NEW_USER_DATA,\r\n      payload: {\r\n        ...newUserData,\r\n        state: newUserDataState.emailNotExist,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\nexport const activateAccount = (token) => async (dispatch) => {\r\n  dispatch({\r\n    type: NEW_USER_DATA,\r\n    payload: {\r\n      username: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n      confirmPassword: \"\",\r\n      state: newUserDataState.activatingAccount,\r\n    },\r\n  });\r\n  try {\r\n    const user = await axios.get(`/api/v1/users/activateAccount/${token}`);\r\n\r\n    dispatch({\r\n      type: AUTH_USER,\r\n      payload: {\r\n        token: user.data.token,\r\n        user: user.data.user,\r\n      },\r\n    });\r\n\r\n    dispatch({\r\n      type: NEW_USER_DATA,\r\n      payload: {\r\n        username: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        confirmPassword: \"\",\r\n        state: newUserDataState.accountActivated,\r\n      },\r\n    });\r\n\r\n    saveToken(user.data.token);\r\n\r\n    history.push(\"/conversations\");\r\n\r\n    loadDataHelper(dispatch, user.data.token, true, true, user.data.user);\r\n  } catch (err) {\r\n    dispatch({\r\n      type: NEW_USER_DATA,\r\n      payload: {\r\n        username: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        confirmPassword: \"\",\r\n        state: newUserDataState.invalidToken,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\nexport const setLoginData = (mount, email, password) => {\r\n  if (mount) {\r\n    return {\r\n      type: LOGIN_USER_DATA,\r\n      payload: {\r\n        email,\r\n        password,\r\n      },\r\n    };\r\n  } else {\r\n    return {\r\n      type: LOGIN_USER_DATA,\r\n      payload: null,\r\n    };\r\n  }\r\n};\r\n\r\nexport const loginUser = () => async (dispatch, getState) => {\r\n  const { loginUserData } = getState();\r\n\r\n  dispatch({\r\n    type: LOGIN_USER_DATA,\r\n    payload: {\r\n      ...loginUserData,\r\n      state: \"submitting\",\r\n    },\r\n  });\r\n\r\n  try {\r\n    const user = await axios.post(\"/api/v1/users/login\", loginUserData);\r\n\r\n    dispatch({\r\n      type: AUTH_USER,\r\n      payload: {\r\n        user: user.data.user,\r\n      },\r\n    });\r\n\r\n    saveToken(user.data.token);\r\n\r\n    history.push(\"/conversations\");\r\n\r\n    loadDataHelper(dispatch, user.data.token, true, true, user.data.user);\r\n  } catch (err) {\r\n    dispatch({\r\n      type: LOGIN_USER_DATA,\r\n      payload: {\r\n        ...loginUserData,\r\n        loginFailed: true,\r\n        state: \"failed\",\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\nexport const setForgotPassword = (email, state, mount) => {\r\n  if (mount) {\r\n    return {\r\n      type: FORGOT_PASSWORD,\r\n      payload: {\r\n        email,\r\n        state,\r\n      },\r\n    };\r\n  } else {\r\n    return {\r\n      type: FORGOT_PASSWORD,\r\n      payload: null,\r\n    };\r\n  }\r\n};\r\n\r\nexport const sendForgotPassword = () => async (dispatch, getState) => {\r\n  const { email } = getState().forgotPassword;\r\n\r\n  dispatch({\r\n    type: FORGOT_PASSWORD,\r\n    payload: {\r\n      email,\r\n      state: \"submitting\",\r\n    },\r\n  });\r\n\r\n  try {\r\n    await axios.post(\"/api/v1/users/forgotPassword\", { email });\r\n    dispatch({\r\n      type: FORGOT_PASSWORD,\r\n      payload: {\r\n        email,\r\n        state: \"submitted\",\r\n      },\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: FORGOT_PASSWORD,\r\n      payload: {\r\n        email,\r\n        state: \"failed\",\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\nexport const setResetPassword = (mount, password, confirmPassword, state) => {\r\n  if (mount) {\r\n    return {\r\n      type: RESET_PASSWORD_DATA,\r\n      payload: {\r\n        password,\r\n        confirmPassword,\r\n        state,\r\n      },\r\n    };\r\n  } else {\r\n    return {\r\n      type: RESET_PASSWORD_DATA,\r\n      payload: null,\r\n    };\r\n  }\r\n};\r\n\r\nexport const resetPassword = (token) => async (dispatch, getState) => {\r\n  const { resetPasswordData } = getState();\r\n\r\n  dispatch({\r\n    type: RESET_PASSWORD_DATA,\r\n    payload: {\r\n      ...resetPasswordData,\r\n      state: \"submitting\",\r\n    },\r\n  });\r\n\r\n  try {\r\n    const user = await axios.patch(\r\n      `/api/v1/users/resetPassword/${token}`,\r\n      resetPasswordData\r\n    );\r\n\r\n    dispatch({\r\n      type: AUTH_USER,\r\n      payload: {\r\n        token: user.data.token,\r\n        user: user.data.user,\r\n      },\r\n    });\r\n\r\n    saveToken(user.data.token);\r\n\r\n    history.push(\"/conversations\");\r\n\r\n    loadDataHelper(dispatch, user.data.token, true, true, user.data.user);\r\n  } catch (err) {\r\n    dispatch({\r\n      type: RESET_PASSWORD_DATA,\r\n      payload: {\r\n        ...resetPasswordData,\r\n        state: newUserDataState.invalidToken,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\nexport const setActiveConversation = (conversation) => {\r\n  return {\r\n    type: ACTIVE_CONVERSATION,\r\n    payload: conversation,\r\n  };\r\n};\r\n\r\nexport const createConversation = (id) => async (dispatch, getState) => {\r\n  const { auth } = getState();\r\n\r\n  const token = localStorage.getItem(\"token\");\r\n\r\n  dispatch({\r\n    type: ACTIVE_CONVERSATION,\r\n    payload: {\r\n      state: \"creating\",\r\n      id,\r\n    },\r\n  });\r\n\r\n  try {\r\n    await axios.post(\r\n      \"/api/v1/conversations\",\r\n      { user1: auth.user._id, user2: id, createdAt: Date.now() },\r\n      {\r\n        headers: {\r\n          authorization: `Bearer ${token}`,\r\n        },\r\n      }\r\n    );\r\n  } catch (err) {\r\n    dispatch({\r\n      type: ACTIVE_CONVERSATION,\r\n      payload: {\r\n        state: \"failed\",\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\nexport const setMessageData = (message, state) => {\r\n  return {\r\n    type: MESSAGE_DATA,\r\n    payload: {\r\n      message,\r\n      state,\r\n    },\r\n  };\r\n};\r\n\r\nexport const sendMessage = () => async (dispatch, getState) => {\r\n  const { message, auth, activeConversation } = getState();\r\n\r\n  const token = localStorage.getItem(\"token\");\r\n\r\n  dispatch({\r\n    type: MESSAGE_DATA,\r\n    payload: {\r\n      message: message.message,\r\n      state: \"submitting\",\r\n    },\r\n  });\r\n\r\n  try {\r\n    await axios.post(\r\n      \"/api/v1/messages\",\r\n      {\r\n        conversation: activeConversation._id,\r\n        user: auth.user._id,\r\n        message: message.message,\r\n        createdAt: Date.now(),\r\n      },\r\n      {\r\n        headers: {\r\n          authorization: `Bearer ${token}`,\r\n        },\r\n      }\r\n    );\r\n\r\n    dispatch({\r\n      type: MESSAGE_DATA,\r\n      payload: {\r\n        message: \"\",\r\n        state: \"submitted\",\r\n      },\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: MESSAGE_DATA,\r\n      payload: {\r\n        message: message.message,\r\n        state: \"failed\",\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\nexport const userInserted = (user) => (dispatch, getState) => {\r\n  const { users } = getState();\r\n  if (users.findIndex((sUser) => sUser._id === user._id) === -1) {\r\n    const newUsers = [...users, user];\r\n\r\n    dispatch({\r\n      type: USERS,\r\n      payload: [...newUsers],\r\n    });\r\n  }\r\n};\r\n\r\nexport const userUpdated = (updates) => (dispatch, getState) => {\r\n  let { users, auth } = getState();\r\n\r\n  let updatedUser;\r\n  let i = users.findIndex((user) => user._id === updates.id);\r\n\r\n  if (i < 0) return;\r\n\r\n  updatedUser = {\r\n    ...users[i],\r\n    ...updates.updatedFields,\r\n  };\r\n\r\n  if (auth.user._id === updates.id) {\r\n    dispatch({\r\n      type: AUTH_USER,\r\n      payload: {\r\n        ...auth,\r\n        user: updatedUser,\r\n      },\r\n    });\r\n  }\r\n\r\n  users = [...users.slice(0, i), updatedUser, ...users.slice(i + 1)];\r\n\r\n  dispatch({\r\n    type: USERS,\r\n    payload: users,\r\n  });\r\n};\r\n\r\nexport const userDeleted = (id) => (dispatch, getState) => {\r\n  const { users } = getState();\r\n\r\n  const newUsers = users.filter((user) => user._id !== id);\r\n\r\n  dispatch({\r\n    type: USERS,\r\n    payload: [...newUsers],\r\n  });\r\n};\r\n\r\nexport const conversationInserted = (doc) => (dispatch, getState) => {\r\n  let { conversations, auth, activeConversation } = getState();\r\n\r\n  // insert conversation only if it is for auth user\r\n  if (doc.user1 === auth.user._id || doc.user2 === auth.user._id) {\r\n    if (conversations.data.findIndex((con) => con._id === doc._id) === -1) {\r\n      conversations.data = [...conversations.data, doc];\r\n\r\n      let count = 0;\r\n      conversations.data.forEach((con) => {\r\n        const lastMsg = con.messages[con.messages.length - 1];\r\n\r\n        if (!lastMsg || lastMsg.user !== auth.user._id) {\r\n          count++;\r\n        }\r\n      });\r\n\r\n      dispatch({\r\n        type: CONVERSATIONS,\r\n        payload: {\r\n          data: [...conversations.data],\r\n          notifications: count,\r\n        },\r\n      });\r\n\r\n      if (activeConversation && activeConversation.id) {\r\n        dispatch({\r\n          type: ACTIVE_CONVERSATION,\r\n          payload: doc,\r\n        });\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nexport const conversationDeleted = (data) => (dispatch, getState) => {\r\n  let { conversations, auth, activeConversation } = getState();\r\n\r\n  if (activeConversation && activeConversation._id === data._id) {\r\n    dispatch({\r\n      type: ACTIVE_CONVERSATION,\r\n      payload: null,\r\n    });\r\n  }\r\n\r\n  conversations.data = conversations.data.filter((con) => con._id !== data._id);\r\n\r\n  let count = 0;\r\n  conversations.data.forEach((con) => {\r\n    const lastMsg = con.messages[con.messages.length - 1];\r\n\r\n    if (!lastMsg || lastMsg.user !== auth.user._id) {\r\n      count++;\r\n    }\r\n  });\r\n\r\n  dispatch({\r\n    type: CONVERSATIONS,\r\n    payload: {\r\n      data: [...conversations.data],\r\n      notifications: count,\r\n    },\r\n  });\r\n};\r\n\r\nexport const messageInserted = (doc) => (dispatch, getState) => {\r\n  const { conversations, auth } = getState();\r\n\r\n  let i = conversations.data.findIndex((con) => con._id === doc.conversation);\r\n\r\n  if (i >= 0) {\r\n    if (\r\n      conversations.data[i].messages.findIndex((el) => el._id === doc._id) ===\r\n      -1\r\n    ) {\r\n      conversations.data[i].messages = [...conversations.data[i].messages, doc];\r\n\r\n      const newConversations = [...conversations.data];\r\n\r\n      let count = 0;\r\n      newConversations.forEach((con) => {\r\n        const lastMsg = con.messages[con.messages.length - 1];\r\n\r\n        if (!lastMsg || lastMsg.user !== auth.user._id) {\r\n          count++;\r\n        }\r\n      });\r\n\r\n      dispatch({\r\n        type: CONVERSATIONS,\r\n        payload: {\r\n          data: newConversations,\r\n          notifications: count,\r\n        },\r\n      });\r\n\r\n      if (doc.user === auth.user._id) {\r\n        dispatch({\r\n          type: ACTIVE_CONVERSATION,\r\n          payload: newConversations[i],\r\n        });\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nexport const addEmoji = (id) => (dispatch, getState) => {\r\n  const { message } = getState();\r\n\r\n  let emoji = EMOJIS.slice(id, id + 2);\r\n\r\n  dispatch({\r\n    type: MESSAGE_DATA,\r\n    payload: {\r\n      ...message,\r\n      message: message.message + emoji,\r\n    },\r\n  });\r\n};\r\n\r\nexport const setProfileData = (username, email) => {\r\n  return {\r\n    type: PROFILE_DATA,\r\n    payload: {\r\n      username,\r\n      email,\r\n    },\r\n  };\r\n};\r\n\r\nexport const saveProfileData = () => async (dispatch, getState) => {\r\n  const { profileData } = getState();\r\n\r\n  const userAvatar = document.querySelector(\".user-avatar\");\r\n  const formData = new FormData();\r\n  formData.append(\"username\", profileData.username);\r\n  formData.append(\"email\", profileData.email);\r\n\r\n  if (userAvatar.files.length) {\r\n    formData.append(\"avatar\", userAvatar.files[0]);\r\n  }\r\n\r\n  dispatch({\r\n    type: PROFILE_DATA,\r\n    payload: {\r\n      ...profileData,\r\n      state: \"saving\",\r\n    },\r\n  });\r\n\r\n  const token = localStorage.getItem(\"token\");\r\n\r\n  try {\r\n    await axios.patch(\"/api/v1/users/updateMe\", formData, {\r\n      headers: {\r\n        authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n\r\n    dispatch({\r\n      type: PROFILE_DATA,\r\n      payload: {\r\n        ...profileData,\r\n        state: \"saved\",\r\n      },\r\n    });\r\n\r\n    setTimeout(() => {\r\n      dispatch({\r\n        type: PROFILE_DATA,\r\n        payload: {\r\n          ...profileData,\r\n          state: \"\",\r\n        },\r\n      });\r\n    }, 3000);\r\n\r\n    if (userAvatar.files.length) window.location.reload();\r\n  } catch (err) {\r\n    dispatch({\r\n      type: PROFILE_DATA,\r\n      payload: {\r\n        ...profileData,\r\n        state: \"failed\",\r\n      },\r\n    });\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport const setChangePasswordData = (\r\n  currentPassword,\r\n  newPassword,\r\n  confirmPassword\r\n) => {\r\n  return {\r\n    type: CHANGE_PASSWORD,\r\n    payload: {\r\n      currentPassword,\r\n      newPassword,\r\n      confirmPassword,\r\n    },\r\n  };\r\n};\r\n\r\nexport const saveNewPassword = () => async (dispatch, getState) => {\r\n  const { changePassword } = getState();\r\n\r\n  if (changePassword.newPassword.length < 12) {\r\n    dispatch({\r\n      type: CHANGE_PASSWORD,\r\n      payload: {\r\n        ...changePassword,\r\n        state: \"validation,New password length should be greater than 12.\",\r\n      },\r\n    });\r\n    return;\r\n  } else if (changePassword.newPassword !== changePassword.confirmPassword) {\r\n    dispatch({\r\n      type: CHANGE_PASSWORD,\r\n      payload: {\r\n        ...changePassword,\r\n        state: \"validation,New password and Confirm password are not same.\",\r\n      },\r\n    });\r\n    return;\r\n  }\r\n\r\n  dispatch({\r\n    type: CHANGE_PASSWORD,\r\n    payload: {\r\n      ...changePassword,\r\n      state: \"saving\",\r\n    },\r\n  });\r\n\r\n  const token = localStorage.getItem(\"token\");\r\n\r\n  try {\r\n    const user = await axios.patch(\r\n      \"/api/v1/users/updatePassword\",\r\n      changePassword,\r\n      {\r\n        headers: {\r\n          authorization: `Bearer ${token}`,\r\n        },\r\n      }\r\n    );\r\n\r\n    saveToken(user.data.token);\r\n\r\n    dispatch({\r\n      type: CHANGE_PASSWORD,\r\n      payload: {\r\n        currentPassword: \"\",\r\n        newPassword: \"\",\r\n        confirmPassword: \"\",\r\n        state: \"saved\",\r\n      },\r\n    });\r\n\r\n    setTimeout(() => {\r\n      dispatch({\r\n        type: CHANGE_PASSWORD,\r\n        payload: {\r\n          currentPassword: \"\",\r\n          newPassword: \"\",\r\n          confirmPassword: \"\",\r\n          state: \"\",\r\n        },\r\n      });\r\n    }, 3000);\r\n  } catch (err) {\r\n    dispatch({\r\n      type: CHANGE_PASSWORD,\r\n      payload: {\r\n        ...changePassword,\r\n        state: \"failed\",\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\nexport const logout = () => async (dispatch, getState) => {\r\n  dispatch({\r\n    type: AUTH_USER,\r\n    payload: {},\r\n  });\r\n\r\n  dispatch({\r\n    type: CONVERSATIONS,\r\n    payload: { data: [], notifications: 0 },\r\n  });\r\n\r\n  dispatch({\r\n    type: USERS,\r\n    payload: [],\r\n  });\r\n\r\n  localStorage.setItem(\"token\", \"\");\r\n\r\n  await axios.get(\"/api/v1/users/logout\");\r\n};\r\n\r\nexport const deleteAccount = () => async (dispatch, getState) => {\r\n  const token = localStorage.getItem(\"token\");\r\n\r\n  try {\r\n    await axios.delete(\"/api/v1/users/deleteMe\", {\r\n      headers: {\r\n        authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n    history.push(root);\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport const loadData = () => async (dispatch) => {\r\n  const token = localStorage.getItem(\"token\");\r\n  loadDataHelper(dispatch, token, true, true, false, true);\r\n};\r\n","export default __webpack_public_path__ + \"static/media/spinner.f5645f7b.svg\";","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { login } from \"../../utils/Routes\";\r\nimport { setNewUserData, signupUser } from \"../../actions\";\r\nimport { newUserDataState } from \"../../actions/types\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport spinner from \"../spinner.svg\";\r\n\r\nclass Signup extends React.Component {\r\n  onSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (this.props.newUserData.state === newUserDataState.submitting) return;\r\n\r\n    // password length should be greater than 12\r\n    if (this.props.newUserData.password.length >= 12) {\r\n      // password and confirm password should be same\r\n      if (\r\n        this.props.newUserData.password ===\r\n        this.props.newUserData.confirmPassword\r\n      ) {\r\n        this.props.setNewUserData(\r\n          true,\r\n          this.props.newUserData.username,\r\n          this.props.newUserData.email,\r\n          this.props.newUserData.password,\r\n          this.props.newUserData.confirmPassword,\r\n          newUserDataState.submitting\r\n        );\r\n\r\n        this.props.signupUser();\r\n      } else {\r\n        this.props.setNewUserData(\r\n          true,\r\n          this.props.newUserData.username,\r\n          this.props.newUserData.email,\r\n          this.props.newUserData.password,\r\n          this.props.newUserData.confirmPassword,\r\n          newUserDataState.unmatchedValidation\r\n        );\r\n      }\r\n    } else {\r\n      this.props.setNewUserData(\r\n        true,\r\n        this.props.newUserData.username,\r\n        this.props.newUserData.email,\r\n        this.props.newUserData.password,\r\n        this.props.newUserData.confirmPassword,\r\n        newUserDataState.lengthValidation\r\n      );\r\n    }\r\n  };\r\n\r\n  onSignupFieldChange = (event, field) => {\r\n    switch (field) {\r\n      case \"username\":\r\n        this.props.setNewUserData(\r\n          true,\r\n          event.target.value,\r\n          this.props.newUserData.email,\r\n          this.props.newUserData.password,\r\n          this.props.newUserData.confirmPassword,\r\n          newUserDataState.typing\r\n        );\r\n        break;\r\n      case \"email\":\r\n        this.props.setNewUserData(\r\n          true,\r\n          this.props.newUserData.username,\r\n          event.target.value,\r\n          this.props.newUserData.password,\r\n          this.props.newUserData.confirmPassword,\r\n          newUserDataState.typing\r\n        );\r\n        break;\r\n      case \"password\":\r\n        this.props.setNewUserData(\r\n          true,\r\n          this.props.newUserData.username,\r\n          this.props.newUserData.email,\r\n          event.target.value,\r\n          this.props.newUserData.confirmPassword,\r\n          newUserDataState.typing\r\n        );\r\n        break;\r\n      case \"confirmPassword\":\r\n        this.props.setNewUserData(\r\n          true,\r\n          this.props.newUserData.username,\r\n          this.props.newUserData.email,\r\n          this.props.newUserData.password,\r\n          event.target.value,\r\n          newUserDataState.typing\r\n        );\r\n        break;\r\n      default:\r\n        this.props.setNewUserData(\r\n          true,\r\n          this.props.newUserData.username,\r\n          this.props.newUserData.email,\r\n          this.props.newUserData.password,\r\n          this.props.newUserData.confirmPassword,\r\n          newUserDataState.typing\r\n        );\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.setNewUserData(\r\n      true,\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      newUserDataState.emptyFields\r\n    );\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.props.newUserData.state !== newUserDataState.submitted) {\r\n      this.props.setNewUserData(false);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (this.props.newUserData) {\r\n      const failed =\r\n        this.props.newUserData.state.startsWith(\"failed\") ||\r\n        this.props.newUserData.state.startsWith(\"validation\");\r\n\r\n      let failedMessage;\r\n      if (failed) {\r\n        failedMessage = this.props.newUserData.state.split(\",\")[1];\r\n      }\r\n\r\n      return (\r\n        <form className=\"form\" onSubmit={this.onSubmit}>\r\n          <div className=\"signup-warning\">\r\n            <Alert show={failed} variant=\"danger\">\r\n              <p>{failedMessage}</p>\r\n            </Alert>\r\n          </div>\r\n          <h2 className=\"form__heading\">Sign up</h2>\r\n\r\n          <div className=\"form__fieldsWrapper\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Username\"\r\n              value={this.props.newUserData.username}\r\n              onChange={(event) => this.onSignupFieldChange(event, \"username\")}\r\n              required\r\n              autoFocus\r\n            />\r\n            <input\r\n              type=\"email\"\r\n              placeholder=\"Email\"\r\n              value={this.props.newUserData.email}\r\n              onChange={(event) => this.onSignupFieldChange(event, \"email\")}\r\n              required\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Password\"\r\n              value={this.props.newUserData.password}\r\n              onChange={(event) => this.onSignupFieldChange(event, \"password\")}\r\n              required\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Confirm password\"\r\n              value={this.props.newUserData.confirmPassword}\r\n              onChange={(event) =>\r\n                this.onSignupFieldChange(event, \"confirmPassword\")\r\n              }\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <button type=\"submit\" className=\"form__submitBtn\">\r\n            {this.props.newUserData.state === newUserDataState.submitting ? (\r\n              <img\r\n                className=\"icon-spinner\"\r\n                src={spinner}\r\n                alt=\"spinner icon svg\"\r\n              />\r\n            ) : (\r\n              \"Signup\"\r\n            )}\r\n          </button>\r\n\r\n          <p className=\"form__switchAuth\">\r\n            Already have an account ?{\" \"}\r\n            <Link to={login} className=\"form__log-or-sign\">\r\n              Login\r\n            </Link>{\" \"}\r\n          </p>\r\n        </form>\r\n      );\r\n    } else {\r\n      return \"\";\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ newUserData }) => {\r\n  return { newUserData };\r\n};\r\n\r\nexport default connect(mapStateToProps, { setNewUserData, signupUser })(Signup);\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport { setLoginData, loginUser } from \"../../actions\";\r\nimport { forgotpassword, signup } from \"../../utils/Routes\";\r\nimport { newUserDataState } from \"../../actions/types\";\r\nimport spinner from \"../spinner.svg\";\r\n\r\nclass Signup extends React.Component {\r\n  onSubmit = (event) => {\r\n    event.preventDefault();\r\n    if (this.props.loginUserData.state === \"submitting\") return;\r\n    this.props.loginUser();\r\n  };\r\n\r\n  onInputFieldChange = (event, field) => {\r\n    switch (field) {\r\n      case \"email\":\r\n        this.props.setLoginData(\r\n          true,\r\n          event.target.value,\r\n          this.props.loginUserData.password\r\n        );\r\n        break;\r\n      case \"password\":\r\n        this.props.setLoginData(\r\n          true,\r\n          this.props.loginUserData.email,\r\n          event.target.value\r\n        );\r\n        break;\r\n      default:\r\n        this.props.setLoginData(\r\n          true,\r\n          this.props.loginUserData.email,\r\n          this.props.loginUserData.password\r\n        );\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.setLoginData(true, \"\", \"\");\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.setLoginData(false);\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.loginUserData) return \"\";\r\n    return (\r\n      <form className=\"form\" onSubmit={this.onSubmit}>\r\n        <div className=\"signup-warning\">\r\n          <Alert\r\n            show={this.props.loginUserData.loginFailed === true}\r\n            variant=\"danger\"\r\n          >\r\n            <p>Email or password is wrong !!!</p>\r\n          </Alert>\r\n        </div>\r\n\r\n        <h2 className=\"form__heading\">Login</h2>\r\n\r\n        <div className=\"form__fieldsWrapper\">\r\n          <input\r\n            type=\"email\"\r\n            placeholder=\"Email\"\r\n            value={this.props.loginUserData.email}\r\n            required\r\n            autoFocus\r\n            onChange={(event) => this.onInputFieldChange(event, \"email\")}\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Password\"\r\n            value={this.props.loginUserData.password}\r\n            required\r\n            onChange={(event) => this.onInputFieldChange(event, \"password\")}\r\n          />\r\n        </div>\r\n\r\n        <Link to={forgotpassword} className=\"form__forgotPassword\">\r\n          Forgot password ?\r\n        </Link>\r\n\r\n        <button type=\"submit\" className=\"form__submitBtn\">\r\n          {this.props.loginUserData.state === newUserDataState.submitting ? (\r\n            <img\r\n              className=\"icon-spinner\"\r\n              src={spinner}\r\n              alt=\"spinner icon svg\"\r\n            />\r\n          ) : (\r\n            \"Login\"\r\n          )}\r\n        </button>\r\n\r\n        <p className=\"form__switchAuth\">\r\n          Don't have an account ?{\" \"}\r\n          <Link to={signup} className=\"form__log-or-sign\">\r\n            Register\r\n          </Link>{\" \"}\r\n        </p>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ loginUserData }) => {\r\n  return { loginUserData };\r\n};\r\n\r\nexport default connect(mapStateToProps, { setLoginData, loginUser })(Signup);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { setForgotPassword, sendForgotPassword } from \"../../actions\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport spinner from \"../spinner.svg\";\r\n\r\nclass ForgotPassword extends React.Component {\r\n  onSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (this.props.forgotPassword.state === \"submitting\") return;\r\n\r\n    this.props.sendForgotPassword();\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.setForgotPassword(\"\", \"empty\", true);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.setForgotPassword(\"\", \"empty\", false);\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.forgotPassword) return \"\";\r\n\r\n    const show =\r\n      this.props.forgotPassword.state === \"submitted\" ||\r\n      this.props.forgotPassword.state === \"failed\";\r\n\r\n    const variant =\r\n      this.props.forgotPassword.state === \"submitted\" ? \"success\" : \"danger\";\r\n\r\n    const failedMessage =\r\n      variant === \"success\"\r\n        ? \"An email has been sent to your mail account. It will only valid for 10min\"\r\n        : \"Either there is no user with this email or has not activated account\";\r\n\r\n    return (\r\n      <form className=\"form\" onSubmit={this.onSubmit}>\r\n        <div className=\"signup-warning\">\r\n          <Alert show={show} variant={variant}>\r\n            <p>{failedMessage}</p>\r\n          </Alert>\r\n        </div>\r\n\r\n        <h2 className=\"form__heading\">Forgot Password</h2>\r\n\r\n        <p className=\"form__forgotPasswordDesc\">\r\n          Get reset token to your mailbox\r\n        </p>\r\n\r\n        <div className=\"form__fieldsWrapper\">\r\n          <input\r\n            type=\"email\"\r\n            placeholder=\"Email\"\r\n            value={this.props.forgotPassword.email}\r\n            required\r\n            autoFocus\r\n            onChange={(event) =>\r\n              this.props.setForgotPassword(event.target.value, \"typing\", true)\r\n            }\r\n          />\r\n        </div>\r\n\r\n        <button type=\"submit\" className=\"form__submitBtn\">\r\n          {this.props.forgotPassword.state === \"submitting\" ? (\r\n            <img\r\n              className=\"icon-spinner\"\r\n              src={spinner}\r\n              alt=\"spinner icon svg\"\r\n            />\r\n          ) : (\r\n            \"Send\"\r\n          )}\r\n        </button>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ forgotPassword }) => {\r\n  return { forgotPassword };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  setForgotPassword,\r\n  sendForgotPassword,\r\n})(ForgotPassword);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nimport { setResetPassword, resetPassword } from \"../../actions\";\r\nimport { newUserDataState } from \"../../actions/types\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport spinner from \"../spinner.svg\";\r\n\r\nclass Resetpassword extends React.Component {\r\n  onSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (this.props.resetPasswordData.state === \"submitting\") return;\r\n\r\n    const { resetPasswordData } = this.props;\r\n\r\n    if (resetPasswordData.password.length < 12)\r\n      return this.props.setResetPassword(\r\n        true,\r\n        resetPasswordData.password,\r\n        resetPasswordData.confirmPassword,\r\n        newUserDataState.lengthValidation\r\n      );\r\n\r\n    if (resetPasswordData.password !== resetPasswordData.confirmPassword)\r\n      return this.props.setResetPassword(\r\n        true,\r\n        resetPasswordData.password,\r\n        resetPasswordData.confirmPassword,\r\n        newUserDataState.unmatchedValidation\r\n      );\r\n\r\n    this.props.resetPassword(this.props.match.params.token);\r\n  };\r\n\r\n  onInputFieldChange = (event, field) => {\r\n    switch (field) {\r\n      case \"password\":\r\n        this.props.setResetPassword(\r\n          true,\r\n          event.target.value,\r\n          this.props.resetPasswordData.confirmPassword,\r\n          \"typing\"\r\n        );\r\n        break;\r\n      case \"confirmPassword\":\r\n        this.props.setResetPassword(\r\n          true,\r\n          this.props.resetPasswordData.password,\r\n          event.target.value,\r\n          \"typing\"\r\n        );\r\n        break;\r\n      default:\r\n        this.props.setResetPassword(\r\n          true,\r\n          this.props.resetPasswordData.password,\r\n          this.props.resetPasswordData.confirmPassword,\r\n          \"typing\"\r\n        );\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.setResetPassword(true, \"\", \"\", \"empty\");\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.resetPasswordData) return \"\";\r\n\r\n    const validation = this.props.resetPasswordData.state.startsWith(\r\n      \"validation\"\r\n    );\r\n    const invalidToken =\r\n      this.props.resetPasswordData.state === newUserDataState.invalidToken;\r\n\r\n    let failedMessage;\r\n    if (validation) {\r\n      failedMessage = this.props.resetPasswordData.state.split(\",\")[1];\r\n    } else if (invalidToken) {\r\n      failedMessage =\r\n        \"Something went wrong ! Maybe token is invalid or has expired.\";\r\n    }\r\n\r\n    return (\r\n      <form className=\"form\" onSubmit={this.onSubmit}>\r\n        <div className=\"signup-warning\">\r\n          <Alert show={validation || invalidToken} variant=\"danger\">\r\n            <p>{failedMessage}</p>\r\n          </Alert>\r\n        </div>\r\n\r\n        <h2 className=\"form__heading\">Reset Password</h2>\r\n\r\n        <div className=\"form__fieldsWrapper\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"New password\"\r\n            required\r\n            autoFocus\r\n            value={this.props.resetPasswordData.password}\r\n            onChange={(event) => this.onInputFieldChange(event, \"password\")}\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Confirm password\"\r\n            required\r\n            value={this.props.resetPasswordData.confirmPassword}\r\n            onChange={(event) =>\r\n              this.onInputFieldChange(event, \"confirmPassword\")\r\n            }\r\n          />\r\n        </div>\r\n\r\n        <button type=\"submit\" className=\"form__submitBtn\">\r\n          {this.props.resetPasswordData.state ===\r\n          newUserDataState.submitting ? (\r\n            <img\r\n              className=\"icon-spinner\"\r\n              src={spinner}\r\n              alt=\"spinner icon svg\"\r\n            />\r\n          ) : (\r\n            \"Update\"\r\n          )}\r\n        </button>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ resetPasswordData }) => {\r\n  return { resetPasswordData };\r\n};\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps, { setResetPassword, resetPassword })(Resetpassword)\r\n);\r\n","import React, { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { resendAccountActivateEmail } from \"../../actions\";\r\nimport { newUserDataState } from \"../../actions/types\";\r\nimport history from \"../../utils/history\";\r\nimport { signup, conversations } from \"../../utils/Routes\";\r\nimport logo from \"../logo.png\";\r\nimport spinner from \"../spinner.svg\";\r\n\r\nfunction EmailConfirmation(props) {\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"token\");\r\n    const exp = localStorage.getItem(\"exp\");\r\n\r\n    if (token && +exp >= Date.now()) {\r\n      return history.push(conversations);\r\n    }\r\n  }, []);\r\n\r\n  const resendEmail = () => {\r\n    if (\r\n      props.newUserData &&\r\n      props.newUserData.state === newUserDataState.submitted\r\n    ) {\r\n      props.resendAccountActivateEmail();\r\n    }\r\n  };\r\n\r\n  if (props.newUserData) {\r\n    return (\r\n      <div className=\"confirmation\">\r\n        <div className=\"confirmation__wrapper\">\r\n          <picture className=\"chat-app-logo\">\r\n            <img src={logo} alt=\"chat app logo\" />\r\n          </picture>\r\n          <h1 className=\"confirmation__heading\">\r\n            Please confirm you email address\r\n          </h1>\r\n          <p className=\"confirmation__desc\">\r\n            An email has been sent to your mail account. Please check your email\r\n            to{\" \"}\r\n            <span>\r\n              activate chat app account. <br />\r\n            </span>\r\n            If you don't see any email in inbox, check promotions tab or spam\r\n            folder.\r\n          </p>\r\n          <p className=\"confirmation__resendEmailQue\">Didn't get any email?</p>\r\n          <button onClick={resendEmail} className=\"confirmation__resendBtn\">\r\n            {props.newUserData.state === newUserDataState.resubmitting ? (\r\n              <img\r\n                className=\"icon-spinner-dark\"\r\n                src={spinner}\r\n                alt=\"spinner icon svg\"\r\n              />\r\n            ) : (\r\n              \"Resend email\"\r\n            )}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  } else {\r\n    history.push(signup);\r\n    return \"\";\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ newUserData }) => {\r\n  return { newUserData };\r\n};\r\n\r\nexport default connect(mapStateToProps, { resendAccountActivateEmail })(\r\n  EmailConfirmation\r\n);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport {\r\n  activateAccount,\r\n  setNewUserData,\r\n  resendAccountActivateEmail,\r\n} from \"../../actions\";\r\nimport { newUserDataState } from \"../../actions/types\";\r\nimport spinner from \"../spinner.svg\";\r\n\r\nclass ActivateAccount extends React.Component {\r\n  onSubmit = (event) => {\r\n    event.preventDefault();\r\n    this.props.resendAccountActivateEmail();\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.setNewUserData(\r\n      true,\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      newUserDataState.activatingAccount\r\n    );\r\n    this.props.activateAccount(this.props.match.params.token);\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.newUserData) return \"\";\r\n\r\n    if (\r\n      this.props.newUserData.state === newUserDataState.activatingAccount ||\r\n      this.props.newUserData.state === \"accountActivated\"\r\n    ) {\r\n      return (\r\n        <img\r\n          className=\"icon-spinner-activateAccount\"\r\n          src={spinner}\r\n          alt=\"spinner\"\r\n        />\r\n      );\r\n    } else {\r\n      let failedMessage;\r\n      let failed;\r\n      if (this.props.newUserData.state.startsWith(\"Invalid\")) {\r\n        failedMessage = this.props.newUserData.state;\r\n        failed = true;\r\n      } else if (this.props.newUserData.state.startsWith(\"failed\")) {\r\n        failedMessage = this.props.newUserData.state.split(\",\")[1];\r\n        failed = true;\r\n      } else {\r\n        failed = false;\r\n      }\r\n\r\n      return (\r\n        <form className=\"form\" onSubmit={this.onSubmit}>\r\n          <div className=\"signup-warning\">\r\n            <Alert show={failed} variant=\"danger\">\r\n              <p>{failedMessage}</p>\r\n            </Alert>\r\n          </div>\r\n          <h2 className=\"form__heading\">Account Activation Failed !</h2>\r\n\r\n          <p className=\"form__forgotPasswordDesc\">\r\n            Token was invalid or expired. Enter email to get email with\r\n            activation link again.\r\n          </p>\r\n\r\n          <div className=\"form__fieldsWrapper\">\r\n            <input\r\n              type=\"email\"\r\n              placeholder=\"Email\"\r\n              value={this.props.newUserData.email}\r\n              required\r\n              autoFocus\r\n              onChange={(event) =>\r\n                this.props.setNewUserData(\r\n                  true,\r\n                  \"\",\r\n                  event.target.value,\r\n                  \"\",\r\n                  \"\",\r\n                  newUserDataState.typing\r\n                )\r\n              }\r\n            />\r\n          </div>\r\n\r\n          <button type=\"submit\" className=\"form__submitBtn\">\r\n            {this.props.newUserData.state === newUserDataState.resubmitting ? (\r\n              <img\r\n                className=\"icon-spinner\"\r\n                src={spinner}\r\n                alt=\"spinner icon svg\"\r\n              />\r\n            ) : (\r\n              \"Resend email\"\r\n            )}\r\n          </button>\r\n        </form>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { newUserData: state.newUserData };\r\n};\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps, {\r\n    activateAccount,\r\n    setNewUserData,\r\n    resendAccountActivateEmail,\r\n  })(ActivateAccount)\r\n);\r\n","export default __webpack_public_path__ + \"static/media/avatar.42a73f53.svg\";","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { updateProfile, changePassword, login } from \"../../utils/Routes\";\r\nimport { logout } from \"../../actions\";\r\nimport defaultAvatar from \"../avatar.svg\";\r\nimport logo from \"../logo.png\";\r\n\r\nclass index extends Component {\r\n  state = { isOptionsActive: false };\r\n\r\n  setOptionsActive = () => {\r\n    this.setState({ isOptionsActive: !this.state.isOptionsActive });\r\n  };\r\n\r\n  bufferToBase64(buffer) {\r\n    let binary = \"\";\r\n    let bytes = new Uint8Array(buffer);\r\n    let len = bytes.byteLength;\r\n    for (let i = 0; i < len; i++) {\r\n      binary += String.fromCharCode(bytes[i]);\r\n    }\r\n    return window.btoa(binary);\r\n  }\r\n\r\n  userAvatar = (user) => {\r\n    let image = user?.avatar?.data;\r\n    if (image) {\r\n      image = this.bufferToBase64(image);\r\n      return `data:image/jpeg;base64,${image}`;\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <aside className=\"profile-bar\">\r\n        <picture className=\"profile-bar-avatar\">\r\n          <img\r\n            onClick={this.setOptionsActive}\r\n            className=\"default-avatar\"\r\n            src={this.userAvatar(this.props.auth.user) || defaultAvatar}\r\n            alt=\"default avatar\"\r\n          />\r\n          <p className=\"profile-bar-username\">\r\n            {this.props.auth.user?.username || \"\"}\r\n          </p>\r\n          {this.state.isOptionsActive ? (\r\n            <div className=\"profile-bar-options\">\r\n              <Link to={updateProfile} className=\"profile\">\r\n                Profile\r\n              </Link>\r\n              <Link to={changePassword} className=\"change-password\">\r\n                Change password\r\n              </Link>\r\n              <Link to={login} onClick={this.props.logout} className=\"logout\">\r\n                Logout\r\n              </Link>\r\n            </div>\r\n          ) : null}\r\n        </picture>\r\n        <img className=\"profile-bar-logo\" src={logo} alt=\"logo\" />\r\n      </aside>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ auth }) => {\r\n  return { auth };\r\n};\r\n\r\nexport default connect(mapStateToProps, { logout })(index);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { setActiveConversation, createConversation } from \"../../actions\";\r\n\r\nclass ConversationCard extends React.Component {\r\n  onSetActiveConver = () => {\r\n    if (!this.props.conversation) {\r\n      this.props.createConversation(this.props.id);\r\n    } else {\r\n      this.props.setActiveConversation(this.props.conversation);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let cardClass;\r\n    if (this.props.activeConversation) {\r\n      cardClass =\r\n        this.props.activeConversation.user1 === this.props.userID ||\r\n        this.props.activeConversation.user2 === this.props.userID\r\n          ? \"conversation-card conversation-card-active\"\r\n          : \"conversation-card\";\r\n    } else {\r\n      cardClass = \"conversation-card\";\r\n    }\r\n\r\n    const currentUserMsg = this.props.lastMsgUser === this.props.auth.user._id;\r\n\r\n    return (\r\n      <div\r\n        onClick={() => {\r\n          this.onSetActiveConver();\r\n          this.props.setMessageContainerClass(true);\r\n        }}\r\n        className={cardClass}\r\n      >\r\n        <picture className=\"conversation-card-avatar\">\r\n          <img src={this.props.userAvatar} alt=\"default avatar for users\" />\r\n        </picture>\r\n        <div className=\"conversation-card-usertext\">\r\n          <h6 className=\"conversation-card-username\">{this.props.username}</h6>\r\n          {this.props.lastMsg ? (\r\n            <p\r\n              className={\r\n                currentUserMsg\r\n                  ? \"conversation-card-lastMsg\"\r\n                  : \"conversation-card-lastMsg conversation-card-lastMsg-other\"\r\n              }\r\n            >\r\n              {currentUserMsg ? \"You: \" : null}\r\n              {this.props.lastMsg}\r\n            </p>\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ activeConversation, auth }) => {\r\n  return { activeConversation, auth };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  setActiveConversation,\r\n  createConversation,\r\n})(ConversationCard);\r\n","import React from \"react\";\r\n\r\nfunction Message(props) {\r\n  return (\r\n    <p className={\"single-message \" + props.className} title={props.title}>\r\n      {props.msg}\r\n    </p>\r\n  );\r\n}\r\n\r\nexport default Message;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore, applyMiddleware, compose } from \"redux\";\r\nimport reduxThunk from \"redux-thunk\";\r\n\r\nimport reducers from \"./reducers\";\r\nimport App from \"./components/App\";\r\n\r\nconst composeEnhanchers =\r\n  window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nlet store;\r\n\r\nif (process.env.REACT_APP_CHAT_APP === \"development\") {\r\n  store = createStore(reducers, composeEnhanchers(applyMiddleware(reduxThunk)));\r\n} else {\r\n  store = createStore(reducers, applyMiddleware(reduxThunk));\r\n}\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n","export default __webpack_public_path__ + \"static/media/send.3cbea4d2.svg\";","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Pusher from \"pusher-js\";\r\n\r\nimport ProfileBar from \"../ProfileBar\";\r\nimport {\r\n  setMessageData,\r\n  sendMessage,\r\n  userInserted,\r\n  userUpdated,\r\n  userDeleted,\r\n  conversationInserted,\r\n  conversationDeleted,\r\n  messageInserted,\r\n  addEmoji,\r\n} from \"../../actions\";\r\nimport keys from \"../../config\";\r\nimport ConversationCard from \"./ConversationCard\";\r\nimport Message from \"./Message\";\r\nimport EMOJIS from \"../../utils/emojis\";\r\nimport defaultAvatar from \"../avatar.svg\";\r\nimport sendMessageIcon from \"../send.svg\";\r\nimport spinner from \"../spinner.svg\";\r\nimport \"./Conversations.scss\";\r\nimport { login } from \"../../utils/Routes\";\r\nimport history from \"../../utils/history\";\r\n\r\nclass Conversations extends Component {\r\n  state = {\r\n    activeTab: \"people\",\r\n    messageContainerClass: \"message-container\",\r\n    isEmojiActive: false,\r\n    isMsgFormActive: false,\r\n  };\r\n\r\n  messageContainer = React.createRef();\r\n\r\n  setMessageContainerClass = (isActive) => {\r\n    this.setState({\r\n      messageContainerClass: isActive\r\n        ? \"message-container message-container-active\"\r\n        : \"message-container\",\r\n    });\r\n  };\r\n\r\n  setActiveTab = (tab) => {\r\n    this.setState({ activeTab: tab });\r\n  };\r\n\r\n  isTabActive = (tab) => {\r\n    if (this.state.activeTab === tab) return \"tabs active\";\r\n    return \"tabs\";\r\n  };\r\n\r\n  bufferToBase64(buffer) {\r\n    let binary = \"\";\r\n    let bytes = new Uint8Array(buffer);\r\n    let len = bytes.byteLength;\r\n    for (let i = 0; i < len; i++) {\r\n      binary += String.fromCharCode(bytes[i]);\r\n    }\r\n    return window.btoa(binary);\r\n  }\r\n\r\n  userAvatar = (user) => {\r\n    let image = user?.avatar?.data;\r\n    if (image) {\r\n      image = this.bufferToBase64(image);\r\n      return `data:image/jpeg;base64,${image}`;\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  renderUsers = () => {\r\n    return this.props.users.map((user) => {\r\n      if (!this.props.auth.user || !user) return null;\r\n      if (user._id === this.props.auth.user._id) {\r\n        return null;\r\n      }\r\n\r\n      let conversation;\r\n      for (let con of this.props.conversations.data) {\r\n        if (user._id === con.user1 || user._id === con.user2) {\r\n          conversation = con;\r\n          break;\r\n        }\r\n      }\r\n\r\n      return (\r\n        <ConversationCard\r\n          conversation={conversation}\r\n          key={user._id}\r\n          username={user.username}\r\n          id={user._id}\r\n          setMessageContainerClass={this.setMessageContainerClass}\r\n          avatar={user.avatar}\r\n          isOnline={user.isUserActive}\r\n          userAvatar={this.userAvatar(user) || defaultAvatar}\r\n        />\r\n      );\r\n    });\r\n  };\r\n\r\n  getUser = (conversation) => {\r\n    let otherID;\r\n    if (this.props.auth.user._id === conversation.user1) {\r\n      otherID = conversation.user2;\r\n    } else {\r\n      otherID = conversation.user1;\r\n    }\r\n\r\n    return this.getUserWithId(otherID);\r\n  };\r\n\r\n  getUserWithId = (id) => {\r\n    for (let user of this.props.users) {\r\n      if (user._id === id) {\r\n        return user;\r\n      }\r\n    }\r\n  };\r\n\r\n  renderConversations = () => {\r\n    const conversations = this.props.conversations.data.map((conversation) => {\r\n      const user = this.getUser(conversation);\r\n\r\n      return (\r\n        <ConversationCard\r\n          conversation={conversation}\r\n          setMessageContainerClass={this.setMessageContainerClass}\r\n          key={user._id}\r\n          username={user.username}\r\n          userID={user._id}\r\n          avatar={user.avatar}\r\n          isOnline={user.isUserActive}\r\n          userAvatar={this.userAvatar(user) || defaultAvatar}\r\n          lastMsgUser={\r\n            conversation.messages.length\r\n              ? conversation.messages[conversation.messages.length - 1].user\r\n              : null\r\n          }\r\n          lastMsg={\r\n            (conversation.messages[conversation.messages.length - 1] &&\r\n              conversation.messages[conversation.messages.length - 1]\r\n                .message) ||\r\n            `You and ${user.username} are connected and can start chatting...`\r\n          }\r\n        />\r\n      );\r\n    });\r\n\r\n    return conversations;\r\n  };\r\n\r\n  renderMessages = () => {\r\n    return this.props.activeConversation.messages.map((message) => {\r\n      if (this.props.auth.user._id === message.user) {\r\n        return (\r\n          <Message\r\n            key={message._id}\r\n            msg={message.message}\r\n            className=\"my-message\"\r\n            title={`${new Date(message.createdAt).toGMTString()}`}\r\n          />\r\n        );\r\n      }\r\n      return (\r\n        <Message\r\n          key={message._id}\r\n          msg={message.message}\r\n          className=\"others-message\"\r\n          title={\r\n            new Date(message.createdAt).toDateString() +\r\n            \", \" +\r\n            new Date(message.createdAt).toLocaleTimeString()\r\n          }\r\n        />\r\n      );\r\n    });\r\n  };\r\n\r\n  renderEmojis = () =>\r\n    EMOJIS.split(\"\").map((emoji, index) => (\r\n      <span\r\n        onClick={() => {\r\n          this.props.addEmoji(index);\r\n        }}\r\n        key={index}\r\n      >\r\n        {emoji}\r\n      </span>\r\n    ));\r\n\r\n  onMessageSubmit = (event) => {\r\n    if (event.preventDefault) event.preventDefault();\r\n\r\n    if (\r\n      !this.props.message.message.trim() ||\r\n      this.props.message.state !== \"submitting\"\r\n    ) {\r\n      this.props.sendMessage();\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    const token = localStorage.getItem(\"token\");\r\n    const exp = localStorage.getItem(\"exp\");\r\n\r\n    if (!token || +exp < Date.now()) {\r\n      history.push(login);\r\n    }\r\n\r\n    const pusher = new Pusher(keys.PUSHER_KEY, {\r\n      cluster: keys.PUSHER_CLUSTER,\r\n    });\r\n\r\n    this.userChannel = pusher.subscribe(\"users\");\r\n    this.conversationChannel = pusher.subscribe(\"conversations\");\r\n    this.messageChannel = pusher.subscribe(\"messages\");\r\n\r\n    this.userChannel.bind(\"inserted\", (data) => {\r\n      this.props.userInserted(data);\r\n    });\r\n\r\n    this.userChannel.bind(\"updated\", (data) => {\r\n      this.props.userUpdated(data);\r\n    });\r\n\r\n    this.userChannel.bind(\"deleted\", (data) => {\r\n      this.props.userDeleted(data._id);\r\n    });\r\n\r\n    this.conversationChannel.bind(\"inserted\", (data) => {\r\n      this.props.conversationInserted(data);\r\n    });\r\n\r\n    this.conversationChannel.bind(\"deleted\", (data) => {\r\n      this.props.conversationDeleted(data);\r\n    });\r\n\r\n    this.messageChannel.bind(\"inserted\", (data) => {\r\n      this.props.messageInserted(data);\r\n    });\r\n\r\n    window.onbeforeunload = () => {\r\n      this.userChannel.unsubscribe();\r\n      this.conversationChannel.unsubscribe();\r\n      this.messageChannel.unsubscribe();\r\n    };\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    if (this.messageContainer.current) {\r\n      let scroll = this.messageContainer.current.scrollHeight;\r\n      this.messageContainer.current.scrollTop = scroll;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"conversations\">\r\n        <ProfileBar />\r\n        <aside className=\"conversation-bar\">\r\n          <div className=\"conversation-tab\">\r\n            <span\r\n              onClick={() => this.setActiveTab(\"people\")}\r\n              className={this.isTabActive(\"people\")}\r\n            >\r\n              <i className=\"bi bi-people-fill\"></i>\r\n            </span>\r\n            <span\r\n              onClick={() => this.setActiveTab(\"messages\")}\r\n              className={this.isTabActive(\"messages\")}\r\n            >\r\n              <i className=\"bi bi-chat-dots-fill\"></i>\r\n              {this.props.conversations.notifications ? (\r\n                <span className=\"msg-notification\">\r\n                  {this.props.conversations.notifications}\r\n                </span>\r\n              ) : null}\r\n            </span>\r\n          </div>\r\n          <div className=\"conversation-users\">\r\n            {!this.props.conversations.data.length &&\r\n            this.state.activeTab === \"messages\" ? (\r\n              <p className=\"conversation-users-o\">\r\n                You haven't started conversation with anyone\r\n              </p>\r\n            ) : null}\r\n\r\n            {this.state.activeTab === \"people\"\r\n              ? this.renderUsers()\r\n              : this.renderConversations()}\r\n          </div>\r\n        </aside>\r\n        <section className={this.state.messageContainerClass}>\r\n          {!this.props.activeConversation ? (\r\n            <div className=\"start-chatting-message\">\r\n              <p>Send messages to your friends.</p>\r\n              <p>\r\n                Search for other users <i className=\"bi bi-people-fill\"></i>\r\n              </p>\r\n              <p>Start chatting</p>\r\n            </div>\r\n          ) : this.props.activeConversation.state === \"creating\" ? (\r\n            <div className=\"start-chatting-message\">\r\n              Creating conversation with{\" \"}\r\n              {this.getUserWithId(this.props.activeConversation.id).username}{\" \"}\r\n              <picture>\r\n                <img\r\n                  className=\"icon-spinner\"\r\n                  src={spinner}\r\n                  alt=\"spinner icon svg\"\r\n                />\r\n              </picture>\r\n            </div>\r\n          ) : this.props.activeConversation.state !== \"failed\" ? (\r\n            <>\r\n              <header className=\"message-header\">\r\n                <div className=\"message-header-user\">\r\n                  <i\r\n                    onClick={() => this.setMessageContainerClass(false)}\r\n                    className=\"bi bi-arrow-left-short\"\r\n                  ></i>\r\n                  <picture className=\"message-header-user-avatar\">\r\n                    <img\r\n                      className=\"default-avatar\"\r\n                      src={\r\n                        this.userAvatar(\r\n                          this.getUser(this.props.activeConversation)\r\n                        ) || defaultAvatar\r\n                      }\r\n                      alt=\"default avatar\"\r\n                    />\r\n                  </picture>\r\n                  <div className=\"message-header-user-text\">\r\n                    <h5 className=\"message-header-user-name\">\r\n                      {this.getUser(this.props.activeConversation).username}\r\n                    </h5>\r\n                  </div>\r\n                </div>\r\n              </header>\r\n              <main ref={this.messageContainer} className=\"message-messages\">\r\n                <p className=\"message-messages-started\">\r\n                  You and {this.getUser(this.props.activeConversation).username}{\" \"}\r\n                  are connected and can start chatting... <br />\r\n                  {`${new Date(\r\n                    this.props.activeConversation.createdAt\r\n                  ).toDateString()}`}\r\n                </p>\r\n                {this.renderMessages()}\r\n              </main>\r\n              <footer\r\n                className={\r\n                  this.state.isMsgFormActive\r\n                    ? \"message-messageForm message-messageForm-active\"\r\n                    : \"message-messageForm\"\r\n                }\r\n              >\r\n                <form\r\n                  onSubmit={this.onMessageSubmit}\r\n                  className=\"message-messageForm-field\"\r\n                >\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Type message...\"\r\n                    required\r\n                    value={this.props.message.message}\r\n                    onChange={(event) =>\r\n                      this.props.setMessageData(event.target.value, \"typing\")\r\n                    }\r\n                    onFocus={() => this.setState({ isMsgFormActive: true })}\r\n                    onBlur={() => this.setState({ isMsgFormActive: false })}\r\n                  />\r\n\r\n                  <i\r\n                    onClick={() =>\r\n                      this.setState({\r\n                        isEmojiActive: !this.state.isEmojiActive,\r\n                      })\r\n                    }\r\n                    className=\"bi bi-emoji-laughing-fill\"\r\n                  ></i>\r\n\r\n                  <input type=\"submit\" value=\"\" style={{ display: \"none\" }} />\r\n\r\n                  {this.state.isEmojiActive ? (\r\n                    <div className=\"emoji-container\">{this.renderEmojis()}</div>\r\n                  ) : null}\r\n                </form>\r\n                <img\r\n                  className={\r\n                    this.props.message.state === \"submitting\"\r\n                      ? \"icon-spinner-dark\"\r\n                      : \"message-messageForm-sendBtn\"\r\n                  }\r\n                  src={\r\n                    this.props.message.state === \"submitting\"\r\n                      ? spinner\r\n                      : sendMessageIcon\r\n                  }\r\n                  alt=\"send message icon svg\"\r\n                  onClick={this.onMessageSubmit}\r\n                />\r\n              </footer>\r\n            </>\r\n          ) : (\r\n            <div className=\"start-chatting-message\">\r\n              Something went wrong ! try reloading this page\r\n            </div>\r\n          )}\r\n        </section>\r\n        {this.props.appDataLoading !== \"loaded\" ? (\r\n          <div className=\"app-data-loading\">\r\n            {this.props.appDataLoading === \"failed\" ? (\r\n              <p>Something went wrong ! Try reloading this page</p>\r\n            ) : (\r\n              <img\r\n                className=\"icon-spinner\"\r\n                src={spinner}\r\n                alt=\"spinner icon svg\"\r\n              />\r\n            )}\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({\r\n  auth,\r\n  users,\r\n  conversations,\r\n  activeConversation,\r\n  message,\r\n  appDataLoading,\r\n}) => {\r\n  return {\r\n    auth,\r\n    users,\r\n    conversations,\r\n    activeConversation,\r\n    message,\r\n    appDataLoading,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  setMessageData,\r\n  sendMessage,\r\n  userInserted,\r\n  userUpdated,\r\n  userDeleted,\r\n  conversationInserted,\r\n  conversationDeleted,\r\n  messageInserted,\r\n  addEmoji,\r\n})(Conversations);\r\n","export default __webpack_public_path__ + \"static/media/illustration.6a3cd049.svg\";","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { login, signup } from \"../../utils/Routes\";\r\nimport illustration from \"./illustration.svg\";\r\nimport logo from \"../logo.png\";\r\nimport \"./Homepage.scss\";\r\n\r\nclass Homepage extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"container landing\">\r\n        <div className=\"landingPage-wrapper\">\r\n          <div className=\"landingPage\">\r\n            <div className=\"landingPage-actionWrapper\">\r\n              <div className=\"landingPage-action\">\r\n                <h6 className=\"landingPage-heading\">\r\n                  Search for your friends and\r\n                  <span> Start Chatting</span>\r\n                </h6>\r\n                <div className=\"landingPage-buttons\">\r\n                  <Link to={signup} className=\"signup\">\r\n                    signup\r\n                  </Link>\r\n                  <Link to={login} className=\"login\">\r\n                    login\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <picture className=\"landingPage-image\">\r\n              <img src={illustration} alt=\"mobile chatting illustration\" />\r\n            </picture>\r\n          </div>\r\n          <div>\r\n            <img className=\"landing-app-logo\" src={logo} alt=\"app logo\" />\r\n            <p className=\"github-link\">\r\n              Chat App project by{\" \"}\r\n              <a\r\n                href=\"https://github.com/ramankarki\"\r\n                target=\"_blank\"\r\n                rel=\"noreferrer\"\r\n              >\r\n                Raman Karki\r\n              </a>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Homepage;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport {\r\n  setProfileData,\r\n  saveProfileData,\r\n  deleteAccount,\r\n  logout,\r\n} from \"../../actions\";\r\nimport { conversations, login } from \"../../utils/Routes\";\r\nimport ProfileBar from \"../ProfileBar\";\r\nimport defaultAvatar from \"../avatar.svg\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport spinner from \"../spinner.svg\";\r\nimport \"./Profile.scss\";\r\nimport history from \"../../utils/history\";\r\n\r\nclass index extends Component {\r\n  state = { deleteAccountModal: false, deleteAccountLoading: false };\r\n  profileAvatar = React.createRef();\r\n\r\n  setDeleteAccountModal = () => {\r\n    this.setState({ deleteAccountModal: !this.state.deleteAccountModal });\r\n  };\r\n\r\n  onFieldChange = (event, field) => {\r\n    const { profileData } = this.props;\r\n\r\n    if (field === \"username\") {\r\n      this.props.setProfileData(event.target.value, profileData.email);\r\n    } else if (field === \"email\") {\r\n      this.props.setProfileData(profileData.username, event.target.value);\r\n    } else if (field === \"avatar\") {\r\n      const reader = new FileReader();\r\n      reader.readAsDataURL(event.target.files[0]);\r\n      reader.onload = (event) => {\r\n        this.profileAvatar.current.src = event.target.result;\r\n      };\r\n    }\r\n  };\r\n\r\n  onSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (this.props.profileData.state !== \"saving\") {\r\n      this.props.saveProfileData();\r\n    }\r\n  };\r\n\r\n  bufferToBase64(buffer) {\r\n    let binary = \"\";\r\n    let bytes = new Uint8Array(buffer);\r\n    let len = bytes.byteLength;\r\n    for (let i = 0; i < len; i++) {\r\n      binary += String.fromCharCode(bytes[i]);\r\n    }\r\n    return window.btoa(binary);\r\n  }\r\n\r\n  userAvatar = (user) => {\r\n    let image = user?.avatar?.data;\r\n    if (image) {\r\n      image = this.bufferToBase64(image);\r\n      return `data:image/jpeg;base64,${image}`;\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  deleteMe = () => {\r\n    this.setState({ deleteAccountLoading: true });\r\n    this.props.deleteAccount();\r\n    this.props.logout();\r\n  };\r\n\r\n  componentDidMount() {\r\n    const token = localStorage.getItem(\"token\");\r\n    const exp = localStorage.getItem(\"exp\");\r\n\r\n    if (!token || +exp < Date.now()) {\r\n      history.push(login);\r\n    }\r\n\r\n    if (this.props.auth.user)\r\n      this.props.setProfileData(\r\n        this.props.auth.user.username,\r\n        this.props.auth.user.email\r\n      );\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.auth.user) return \"\";\r\n\r\n    let show, message, variant;\r\n    if (this.props.profileData.state === \"saved\") {\r\n      variant = \"success\";\r\n      show = true;\r\n      message = \"Profile saved successfully !\";\r\n    } else if (this.props.profileData.state === \"failed\") {\r\n      variant = \"danger\";\r\n      show = true;\r\n      message =\r\n        \"Something went wrong ! Maybe user with this email already exists, try using another email.\";\r\n    }\r\n\r\n    return (\r\n      <div className=\"profile\">\r\n        <ProfileBar />\r\n        <div className=\"profile-mainWrapper\">\r\n          <div className=\"container profile-formWrapper\">\r\n            <Link to={conversations} className=\"back-to-conversation\">\r\n              <i className=\"bi bi-arrow-left-short\"></i>\r\n              <span>Conversations</span>\r\n            </Link>\r\n            <div className=\"notification\">\r\n              <Alert show={show} variant={variant}>\r\n                <p>{message}</p>\r\n              </Alert>\r\n            </div>\r\n            <h3 className=\"profile-heading\">My Profile</h3>\r\n            <form onSubmit={this.onSubmit} className=\"profile-form\">\r\n              <picture className=\"profile-form-avatar\">\r\n                <img\r\n                  ref={this.profileAvatar}\r\n                  src={this.userAvatar(this.props.auth.user) || defaultAvatar}\r\n                  alt=\"user avatar\"\r\n                />\r\n                <label>\r\n                  <input\r\n                    className=\"user-avatar\"\r\n                    type=\"file\"\r\n                    accept=\"image/*\"\r\n                    onChange={(event) => this.onFieldChange(event, \"avatar\")}\r\n                  />\r\n                  Upload\r\n                </label>\r\n              </picture>\r\n              <div className=\"profile-form-fields\">\r\n                <p className=\"joined-at\">\r\n                  Joined at:{\" \"}\r\n                  {new Date(this.props.auth.user.joinedAt).toDateString()}\r\n                </p>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Username\"\r\n                  required\r\n                  value={this.props.profileData.username}\r\n                  onChange={(event) => {\r\n                    this.onFieldChange(event, \"username\");\r\n                  }}\r\n                />\r\n                <input\r\n                  type=\"email\"\r\n                  placeholder=\"Email\"\r\n                  required\r\n                  value={this.props.profileData.email}\r\n                  onChange={(event) => this.onFieldChange(event, \"email\")}\r\n                />\r\n                <button className=\"profile-submitBtn\">\r\n                  {this.props.profileData.state === \"saving\" ? (\r\n                    <img\r\n                      className=\"icon-spinner\"\r\n                      src={spinner}\r\n                      alt=\"spinner icon svg\"\r\n                    />\r\n                  ) : (\r\n                    \"Save\"\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </form>\r\n            <button\r\n              onClick={this.setDeleteAccountModal}\r\n              className=\"delete-account-btn\"\r\n            >\r\n              Delete Account\r\n            </button>\r\n          </div>\r\n        </div>\r\n        {this.state.deleteAccountModal ? (\r\n          <div className=\"delete-account-modal-bg\">\r\n            <div className=\"delete-account-modal\">\r\n              <h3>Delete Account</h3>\r\n              <p>Are you sure you want to delete your account ?</p>\r\n              <button onClick={this.deleteMe} className=\"delete\">\r\n                {this.state.deleteAccountLoading ? (\r\n                  <img\r\n                    className=\"icon-spinner\"\r\n                    src={spinner}\r\n                    alt=\"spinner icon svg\"\r\n                  />\r\n                ) : (\r\n                  \"Delete\"\r\n                )}\r\n              </button>\r\n              <button onClick={this.setDeleteAccountModal} className=\"cancel\">\r\n                Cancel\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ auth, profileData }) => {\r\n  return { auth, profileData };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  setProfileData,\r\n  saveProfileData,\r\n  deleteAccount,\r\n  logout,\r\n})(index);\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { setChangePasswordData, saveNewPassword } from \"../../actions\";\r\nimport ProfileBar from \"../ProfileBar\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport spinner from \"../spinner.svg\";\r\nimport { conversations, login } from \"../../utils/Routes\";\r\nimport history from \"../../utils/history\";\r\nimport \"./ChangePassword.scss\";\r\n\r\nclass index extends Component {\r\n  onFieldChange = (event, field) => {\r\n    const { changePassword } = this.props;\r\n    if (field === \"current\") {\r\n      this.props.setChangePasswordData(\r\n        event.target.value,\r\n        changePassword.newPassword,\r\n        changePassword.confirmPassword\r\n      );\r\n    } else if (field === \"new\") {\r\n      this.props.setChangePasswordData(\r\n        changePassword.currentPassword,\r\n        event.target.value,\r\n        changePassword.confirmPassword\r\n      );\r\n    } else if (field === \"confirm\") {\r\n      this.props.setChangePasswordData(\r\n        changePassword.currentPassword,\r\n        changePassword.newPassword,\r\n        event.target.value\r\n      );\r\n    }\r\n  };\r\n\r\n  onSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    this.props.saveNewPassword();\r\n  };\r\n\r\n  componentDidMount() {\r\n    const token = localStorage.getItem(\"token\");\r\n    const exp = localStorage.getItem(\"exp\");\r\n\r\n    if (!token || +exp < Date.now()) {\r\n      history.push(login);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let show, variant, message;\r\n    if (this.props.changePassword.state?.startsWith(\"validation\")) {\r\n      show = true;\r\n      variant = \"danger\";\r\n      message = this.props.changePassword.state.split(\",\")[1];\r\n    } else if (this.props.changePassword.state === \"saved\") {\r\n      show = true;\r\n      variant = \"success\";\r\n      message = \"Password changed successfully !\";\r\n    } else if (this.props.changePassword.state === \"failed\") {\r\n      show = true;\r\n      variant = \"danger\";\r\n      message = \"Something went wrong ! May be current password is wrong.\";\r\n    }\r\n\r\n    return (\r\n      <div className=\"profile\">\r\n        <ProfileBar />\r\n        <div className=\"profile-mainWrapper\">\r\n          <div className=\"container profile-formWrapper\">\r\n            <Link to={conversations} className=\"back-to-conversation\">\r\n              <i className=\"bi bi-arrow-left-short\"></i>\r\n              <span>Conversations</span>\r\n            </Link>\r\n            <div className=\"notification\">\r\n              <Alert show={show} variant={variant}>\r\n                <p>{message}</p>\r\n              </Alert>\r\n            </div>\r\n            <h3 className=\"profile-heading\">Change Password</h3>\r\n            <form onSubmit={this.onSubmit} className=\"changePassword-form\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Current Password\"\r\n                required\r\n                value={this.props.changePassword.currentPassword}\r\n                onChange={(event) => {\r\n                  this.onFieldChange(event, \"current\");\r\n                }}\r\n              />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"New Password\"\r\n                required\r\n                value={this.props.changePassword.newPassword}\r\n                onChange={(event) => this.onFieldChange(event, \"new\")}\r\n              />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Confirm Password\"\r\n                required\r\n                value={this.props.changePassword.confirmPassword}\r\n                onChange={(event) => this.onFieldChange(event, \"confirm\")}\r\n              />\r\n              <button className=\"profile-submitBtn\">\r\n                {this.props.changePassword.state === \"saving\" ? (\r\n                  <img\r\n                    className=\"icon-spinner\"\r\n                    src={spinner}\r\n                    alt=\"spinner icon svg\"\r\n                  />\r\n                ) : (\r\n                  \"Save\"\r\n                )}\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ changePassword, auth }) => {\r\n  return { changePassword, auth };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  setChangePasswordData,\r\n  saveNewPassword,\r\n})(index);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { HashRouter, Route } from \"react-router-dom\";\r\nimport {\r\n  root,\r\n  login,\r\n  signup,\r\n  forgotpassword,\r\n  resetpassword,\r\n  emailConfirmation,\r\n  activateAccount,\r\n  conversations,\r\n  updateProfile,\r\n  changePassword,\r\n} from \"../utils/Routes\";\r\n\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"bootstrap-icons/font/bootstrap-icons.css\";\r\nimport AuthComponent from \"./AuthComponent/AuthComponent\";\r\nimport Signup from \"./AuthComponent/Signup\";\r\nimport Login from \"./AuthComponent/Login\";\r\nimport Forgotpassword from \"./AuthComponent/Forgotpassword\";\r\nimport Resetpassword from \"./AuthComponent/Resetpassword\";\r\nimport EmailConfirmation from \"./AuthComponent/EmailConfirmation\";\r\nimport ActivateAccount from \"./AuthComponent/ActivateAccount\";\r\nimport Conversations from \"./Conversations\";\r\nimport Homepage from \"./Homepage/Homepage\";\r\nimport Profile from \"./Profile\";\r\nimport ChangePassword from \"./ChangePassword\";\r\nimport { loadData } from \"../actions\";\r\nimport \"./App.scss\";\r\n\r\nclass App extends React.Component {\r\n  componentDidMount() {\r\n    this.props.loadData();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <HashRouter>\r\n          <Route path={root} exact component={Homepage} />\r\n          <Route path={login} exact>\r\n            <AuthComponent>\r\n              <Login />\r\n            </AuthComponent>\r\n          </Route>\r\n          <Route path={signup} exact>\r\n            <AuthComponent>\r\n              <Signup />\r\n            </AuthComponent>\r\n          </Route>\r\n          <Route path={forgotpassword} exact>\r\n            <AuthComponent>\r\n              <Forgotpassword />\r\n            </AuthComponent>\r\n          </Route>\r\n          <Route path={resetpassword} exact>\r\n            <AuthComponent>\r\n              <Resetpassword />\r\n            </AuthComponent>\r\n          </Route>\r\n          <Route path={emailConfirmation} exact component={EmailConfirmation} />\r\n          <Route path={activateAccount} exact>\r\n            <AuthComponent>\r\n              <ActivateAccount />\r\n            </AuthComponent>\r\n          </Route>\r\n          <Route path={conversations} exact component={Conversations} />\r\n          <Route path={updateProfile} exact component={Profile} />\r\n          <Route path={changePassword} exact component={ChangePassword} />\r\n        </HashRouter>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ auth }) => {\r\n  return { auth };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  loadData,\r\n})(App);\r\n"],"sourceRoot":""}